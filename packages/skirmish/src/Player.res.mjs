// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Pokemon$Skirmish from "./Pokemon.res.mjs";
import * as GameContext$Skirmish from "./GameContext.res.mjs";
import * as Thundershock$Skirmish from "./Moves/Thundershock.res.mjs";

function make(pokemonId, level) {
  let gameObj = Pokemon$Skirmish.make(pokemonId, level, "Player");
  GameContext$Skirmish.k.onUpdate(() => {
    let leftDown = GameContext$Skirmish.k.isKeyDown("left") || GameContext$Skirmish.k.isKeyDown("a");
    let rightDown = GameContext$Skirmish.k.isKeyDown("right") || GameContext$Skirmish.k.isKeyDown("d");
    let upDown = GameContext$Skirmish.k.isKeyDown("up") || GameContext$Skirmish.k.isKeyDown("w");
    let downDown = GameContext$Skirmish.k.isKeyDown("down") || GameContext$Skirmish.k.isKeyDown("s");
    if (leftDown || rightDown || upDown || downDown) {
      if (upDown && !downDown) {
        gameObj.direction = GameContext$Skirmish.k.Vec2.UP;
        gameObj.sprite = Pokemon$Skirmish.backSpriteName(pokemonId);
      } else if (downDown && !upDown) {
        gameObj.direction = GameContext$Skirmish.k.Vec2.DOWN;
        gameObj.sprite = Pokemon$Skirmish.frontSpriteName(pokemonId);
      } else if (leftDown && !rightDown) {
        gameObj.direction = GameContext$Skirmish.k.Vec2.LEFT;
      } else if (rightDown && !leftDown) {
        gameObj.direction = GameContext$Skirmish.k.Vec2.RIGHT;
      }
      gameObj.move(gameObj.direction.scale(Pokemon$Skirmish.movementSpeed));
      return;
    }
  });
  GameContext$Skirmish.k.onKeyRelease(key => {
    if (key === "space") {
      return Thundershock$Skirmish.cast(gameObj);
    }
  });
  gameObj.onHurt(extra => Pokemon$Skirmish.hurtHandler(gameObj, extra));
  return gameObj;
}

export {
  make,
}
/* Pokemon-Skirmish Not a pure module */
