// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Pokemon$Skirmish from "./Pokemon.res.mjs";
import * as GameContext$Skirmish from "./GameContext.res.mjs";
import * as Thundershock$Skirmish from "./Moves/Thundershock.res.mjs";

function make(pokemonId, level) {
  let gameObj = Pokemon$Skirmish.make(pokemonId, level, "Player");
  GameContext$Skirmish.k.onUpdate(() => {
    let leftDown = GameContext$Skirmish.k.isKeyDown("left") || GameContext$Skirmish.k.isKeyDown("a");
    let rightDown = GameContext$Skirmish.k.isKeyDown("right") || GameContext$Skirmish.k.isKeyDown("d");
    let upDown = GameContext$Skirmish.k.isKeyDown("up") || GameContext$Skirmish.k.isKeyDown("w");
    let downDown = GameContext$Skirmish.k.isKeyDown("down") || GameContext$Skirmish.k.isKeyDown("s");
    if (leftDown || rightDown || upDown || downDown) {
      if (upDown && !downDown) {
        gameObj.direction = GameContext$Skirmish.k.Vec2.UP;
        gameObj.sprite = Pokemon$Skirmish.backSpriteName(pokemonId);
      } else if (downDown && !upDown) {
        gameObj.direction = GameContext$Skirmish.k.Vec2.DOWN;
        gameObj.sprite = Pokemon$Skirmish.frontSpriteName(pokemonId);
      } else if (leftDown && !rightDown) {
        gameObj.direction = GameContext$Skirmish.k.Vec2.LEFT;
      } else if (rightDown && !leftDown) {
        gameObj.direction = GameContext$Skirmish.k.Vec2.RIGHT;
      }
      gameObj.move(gameObj.direction.scale(Pokemon$Skirmish.movementSpeed));
      return;
    }
  });
  GameContext$Skirmish.k.onKeyRelease(key => {
    let isYAxis = gameObj.direction.y !== 0;
    if (key === "f1" || key === "shift" || key === "f2" || key === "down" || key === "f3" || key === "up" || key === "f4" || key === "right" || key === "f5" || key === "left" || key === "f6" || key === " " || key === "f7" || key === "space" || key === "f8" || key === "meta" || key === "f9" || key === "alt" || key === "f10" || key === "control" || key === "f11" || key === "tab" || key === "f12" || key === "enter" || key === "`" || key === "backspace" || key === "1" || key === "escape" || key === "2" || key === "/" || key === "3" || key === "." || key === "4" || key === "," || key === "5" || key === "m" || key === "6" || key === "n" || key === "7" || key === "b" || key === "8" || key === "v" || key === "9" || key === "c" || key === "0" || key === "x" || key === "-" || key === "z" || key === "+" || key === "'" || key === "=" || key === ";" || key === "q" || key === "l" || key === "w" || key === "k" || key === "e" || key === "j" || key === "r" || key === "h" || key === "t" || key === "g" || key === "y" || key === "f" || key === "u" || key === "d" || key === "i" || key === "s" || key === "o" || key === "a" || key === "p" || key === "\\" || key === "[" || key === "]") {
      if (key === "space") {
        if (isYAxis) {
          Thundershock$Skirmish.cast(gameObj);
          return;
        } else {
          return;
        }
      } else {
        return;
      }
    }
  });
  return gameObj;
}

export {
  make,
}
/* Pokemon-Skirmish Not a pure module */
