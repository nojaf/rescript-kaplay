// Generated by ReScript, PLEASE EDIT WITH CARE

import * as KaplayContext from "./KaplayContext.res.mjs";

function scene() {
  KaplayContext.k.loadSprite("charmander", "/sprites/charmander-rb.png");
  KaplayContext.k.add([
    KaplayContext.k.pos(0, 400),
    KaplayContext.k.rect(KaplayContext.k.width(), 100),
    KaplayContext.k.color(KaplayContext.k.Color.fromHex("#D1E2F3"))
  ]);
  let tower = KaplayContext.k.add([
    KaplayContext.k.pos(KaplayContext.k.width() / 2 | 0, 350),
    KaplayContext.k.circle(30, {
      fill: true
    }),
    KaplayContext.k.color(KaplayContext.k.Color.fromHex("#D1FEB8")),
    KaplayContext.k.area(),
    KaplayContext.k.body(),
    "tower"
  ]);
  let viewport = tower.add([
    KaplayContext.k.circle(200, {
      fill: true
    }),
    KaplayContext.k.color(KaplayContext.k.Color.fromHex("#D1FEB8")),
    KaplayContext.k.opacity(0.2),
    KaplayContext.k.area()
  ]);
  let regularColor = KaplayContext.k.Color.fromHex("#fe9441");
  KaplayContext.k.loop(3, () => {
    KaplayContext.k.add([
      KaplayContext.k.sprite("charmander", {
        height: 36
      }),
      KaplayContext.k.color(regularColor),
      "pkmn",
      KaplayContext.k.pos(25, 450),
      KaplayContext.k.area(),
      KaplayContext.k.anchor("center"),
      KaplayContext.k.move(KaplayContext.k.vec2(1, 0), 200),
      KaplayContext.k.offscreen({
        destroy: true
      })
    ]);
  });
  viewport.onCollide("pkmn", (pkmn, param) => {
    KaplayContext.k.debug.log("pkmn in viewport");
    pkmn.color = KaplayContext.k.Color.fromHex("#FF0000");
  });
  viewport.onCollideEnd("pkmn", pkmn => {
    KaplayContext.k.debug.log("pkmn out of viewport");
    pkmn.color = regularColor;
  });
}

export {
  scene,
}
/* KaplayContext Not a pure module */
